(function(b){function h(){var a=this,c;0<b(document).find("body>#preview").size()?c=b(document).find("body>#preview"):(c=b("<img>",{id:"preview",css:{display:"none",height:b(a).parent().parent().parent().data("settings").height,width:b(a).parent().parent().parent().data("settings").width,"z-index":999999999,position:"absolute","-moz-box-shadow":"0 0 4px 1px #ddf","-webkit-box-shadow":"0 0 4px 1px #ddf","box-shadow":"0 0 4px 1px #ddf","-moz-border-radius":"4px","border-radius":"4px"}}),b("body").append(c));
var d=c;b("body").css({position:"relative"});d.attr("src",b(a).data("fullsize")).attr("alt",b(a).attr("alt"));d.on("load",function(){console.log(b(a).offset().top);d.css({left:(b(document).width()-b("#preview").width())/2,top:window.pageYOffset+100});d.fadeIn("slow")});d.on("click",function(){d.fadeOut("slow",function(){d.remove()})})}var e={init:function(a){var c=this.find("img").map(function(){return{src:b(this).attr("src"),title:b(this).attr("title"),alt:b(this).attr("alt")}}).get();this.data("images",
c);this.data("settings",b.extend({effect:"reveal",thumbWidth:"auto",thumbHeight:"auto",height:"auto",width:"auto",displayTitle:!0,thumbTransform:function(a){return a}},a));return this},show:function(){var a=this.data("settings")||function(){e.build.call(this);this.data("settings")}();0<this.size()&&e.build.call(this);if("randomize"===a.effect||"reveal"===a.effect){var c=this.find("img");if("randomize"===a.effect)for(var a=c.size(),d,g;a;--a,g=Math.round(Math.random()*a),d=c[a],c[a]=c[g],c[g]=d);c.each(function(a){var c=
b(this);window.setTimeout(function(){c.animate({opacity:1},"slow")},75*a)})}this.show();return this},hide:function(){this.hide();return this},build:function(){var a=this.data("settings"),c=this.data("images");this.children().remove();var d=b("<div>",{css:{width:a.width,height:a.height,position:"relative"}});b.each(c,function(c,f){var e=b("<img>",{src:a.thumbTransform(f.src),alt:f.alt,title:a.displayTitle?f.title:"","data-fullsize":f.src,css:{position:"relative",border:0,margin:"5px",padding:0,width:a.thumbWidth,
height:a.thumbHeight,"font-weight":"normal",opacity:0,"-moz-box-shadow":"0 0 4px 1px #ddf","-webkit-box-shadow":"0 0 4px 1px #DDF","box-shadow":"0 0 4px 1px #DDF","-moz-border-radius":"4px","border-radius":"4px",cursor:"pointer"}}).on("click",h),i=b("<div>",{text:f.title,css:{}});d.append(function(){return f.title?b("<div>",{css:{"float":"left"}}).append(e,i):b("<div>",{css:{"float":"left"}}).append(e)})});this.append(d)},destroy:function(){this.find("div").remove()}};b.fn.picoGal=function(a){if(e[a])return e[a].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return e.init.apply(this,arguments);b.error("Method "+a+" does not exist on jQuery.picoGal")}})(jQuery);